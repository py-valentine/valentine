<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hironoü§ç</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;700&family=Quicksand:wght@400;600&family=Caveat:wght@700&display=swap');

        /* TEMA SKY BLUE - PINK */
        :root {
            --bg-gradient: linear-gradient(135deg, #8fd0fc 0%, #f59cce 100%); /* Sky-100 to Pink-100 */
            --card-bg: rgba(255, 255, 255, 0.85);
            --text-main: #0369a1; /* Sky 700 */
            --text-accent: #be185d; /* Pink 700 */
        }

        html, body {
            height: 100%;
            margin: 0; 
            padding: 0;
            overflow: hidden;  
            background: var(--bg-gradient);
            font-family: 'Quicksand', sans-serif;
            color: var(--text-main);
        }

        .font-big { font-family: 'Fredoka', sans-serif; font-weight: 700; color: #0ea5e9; } /* Sky 500 */
        .font-small { font-family: 'Caveat', cursive; color: #ec4899; font-size: 22px; } /* Pink 500 */
        .font-handwriting { font-family: 'Caveat', cursive; }

        .sakura-canvas {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 10;
        }

        .page-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            text-align: center;
            z-index: 20;
            justify-content: center;
        }

        .glass-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            padding: 2.5rem;
            border-radius: 2rem;
            /* Border gradient effect */
            border: 4px solid white;
            box-shadow: 0 20px 25px -5px rgba(236, 72, 153, 0.15), 0 10px 10px -5px rgba(14, 182, 212, 0.15);
            max-width: 380px; /* Sedikit diperlebar */
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .glass-card::after {
            content: '';
            position: absolute;
            bottom: -50px; 
            left: -25%; 
            width: 150%;
            height: 230px;
            /* Gradient blob di bawah kartu */
            background: linear-gradient(to right, #bae6fd, #fbcfe8); 
            border-radius: 50%;
            z-index: -1;
            opacity: 0.6;
        }

        /* GRADIENT TEXT & BUTTONS */
        .text-gradient {
            background: linear-gradient(to right, #0ea5e9, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .btn-gradient {
            background: linear-gradient(to right, #0ea5e9, #ec4899);
            color: white;
            transition: all 0.3s ease;
        }
        .btn-gradient:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 15px -3px rgba(236, 72, 153, 0.3);
        }

        .cassette-container {
            width: 100%;
            max-width: 280px;
            height: 170px;
            perspective: 1000px;
            margin: 0 auto 20px auto;
        }

        .cassette {
            width: 100%;
            height: 100%;
            background: #1e293b; 
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            border: 2px solid #0f172a;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
        }

        .cassette-container:nth-child(1) .cassette { transform: rotateZ(-3deg); }
        .cassette-container:nth-child(2) .cassette { transform: rotateZ(2deg); }
        .cassette-container:nth-child(3) .cassette { transform: rotateZ(-1.5deg); }

        .cassette-container:hover .cassette {
            transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg) translateY(-10px);
            box-shadow: 0 20px 30px rgba(14, 165, 233, 0.3); /* Blue shadow glow */
            z-index: 50;
        }

        .screw {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #475569;
            border-radius: 50%;
            box-shadow: inset 1px 1px 2px rgba(0,0,0,0.5);
        }
        .screw.top-l { top: 8px; left: 8px; }
        .screw.top-r { top: 8px; right: 8px; }
        .screw.bot-l { bottom: 8px; left: 8px; }
        .screw.bot-r { bottom: 8px; right: 8px; }

        .cassette-label {
            width: 90%;
            height: 75%;
            background: #f0f9ff;
            margin-top: 12px;
            border-radius: 6px;
            border: 1px solid #cbd5e1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 10px;
            /* Garis-garis label kaset dikasih sentuhan pink */
            background-image: repeating-linear-gradient(white, white 21px, #fce7f3 22px); 
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
        }

        .cassette-window {
            width: 100px;
            height: 35px;
            background: #0f172a;
            border-radius: 4px;
            margin-top: 8px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            border: 2px solid #334155;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.8);
            position: absolute;
            bottom: 15px;
        }

        .sprocket {
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
            position: relative;
            animation: rotate-sprocket 4s linear infinite;
            animation-play-state: paused;
        }
        .playing .sprocket { animation-play-state: running; }

        @keyframes rotate-sprocket {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .sprocket::after {
            content: '';
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 14px; height: 14px;
            background: #0f172a;
            clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
        }

        .cassette-bottom {
            position: absolute;
            bottom: 0;
            width: 65%;
            height: 22px;
            background: #1e293b;
            border-top: 2px solid #0f172a;
            border-left: 2px solid #0f172a;
            border-right: 2px solid #0f172a;
            border-radius: 8px 8px 0 0;
        }

        .hidden-page {
            display: none !important;
        }

        .loading-bar-container {
            width: 100%;
            height: 12px;
            background: #e0f2fe;
            border-radius: 10px;
            overflow: hidden;
            border: 2px solid #ec4899; /* Pink Border */
            position: relative;
            z-index: 5;
        }

        .loading-bar-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #0ea5e9, #ec4899); /* Gradient Fill */
            transition: width 0.1s linear;
        }

        .dot-loader span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #ec4899;
            animation: dotFlashing 1s infinite alternate;
        }
        .dot-loader span:nth-child(2) { animation-delay: 0.2s; background-color: #0ea5e9; }
        .dot-loader span:nth-child(3) { animation-delay: 0.4s; background-color: #ec4899; }

        @keyframes dotFlashing {
            0% { opacity: 0.2; }
            100% { opacity: 1; }
        }

        .typewriter {
            display: inline-block;
            overflow: hidden;
            white-space: nowrap;
            border-right: 2px solid #ec4899;
            width: 0;
            animation: typing 3s steps(40, end) forwards, blink .75s step-end infinite;
        }

        @keyframes typing { from { width: 0 } to { width: 100% } }
        @keyframes blink { from, to { border-color: transparent } 50% { border-color: #ec4899; } }

        .photo-grid {
            display: grid;
            grid-template-columns: 1fr; 
            gap: 20px;
            width: 100%;
            max-width: 320px;
            max-height: 55vh;
            overflow-y: auto;
            padding: 15px;
            scroll-behavior: smooth;
        }

        .photo-card {
            background: white;
            border-radius: 12px;
            padding: 10px;
            padding-bottom: 25px; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            border: 1px solid #bae6fd;
        }

        .photo-card:active {
            transform: scale(0.95) rotate(-2deg);
        }

        .photo-card img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            display: block;
        }

        .photo-grid::-webkit-scrollbar { width: 4px; }
        .photo-grid::-webkit-scrollbar-thumb { background: #0ea5e9; border-radius: 10px; }
        
        .envelope-emoji {
            font-size: 8rem;
            line-height: 1;
            display: block;
            margin-bottom: 1rem;
            filter: drop-shadow(0 10px 15px rgba(236, 72, 153, 0.3));
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .reason-card {
            background: linear-gradient(to bottom, #ffffff 0%, #e0f2fe 50%, #fce7f3 100%);
            border-radius: 1.5rem;
            padding: 2.5rem 1.5rem 1.5rem 1.5rem;
            box-shadow: 0 8px 15px -3px rgba(14, 165, 233, 0.1), 0 4px 6px -2px rgba(236, 72, 153, 0.05);
            border: 2px solid white;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 140px;  
            transition: all 0.3s ease;
        }
        
        .reason-card:hover {
            transform: translateY(-5px);
            border-color: #ec4899;
            box-shadow: 0 15px 20px -5px rgba(14, 165, 233, 0.2);
        }

        .reason-icon {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #0ea5e9, #ec4899); /* Gradient Icon */
            border: 4px solid white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            z-index: 10;
        }

        .btn-back {
            background: white;
            color: #0ea5e9;
            border: 2px solid #0ea5e9;
            padding: 0.5rem 1.5rem;
            border-radius: 9999px;
            font-weight: bold;
            font-size: 0.875rem;
            margin-top: 1rem;
            transition: all 0.2s;
        }
        .btn-back:hover {
            background: #f0f9ff;
            color: #ec4899;
            border-color: #ec4899;
        }

        .fade-in-page {
            animation: pageAppear 0.8s ease-out forwards;
        }

        @keyframes pageAppear {
            from {
                opacity: 0;
                transform: scale(0.95) translateY(10px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
    </style>
</head>
<body>

    <canvas class="sakura-canvas" id="sakura"></canvas>
    <audio id="bg-music" loop></audio>

    <!-- PAGE 0: START -->
    <div id="page0" class="page-container"> 
        <div class="glass-card">
            <img src="https://birthdaysx.github.io/Foto3/hirono2.webp" alt="Sticker" class="w- h-32 rounded-lg mb- relative z-10">
            <h1 class="font-big text-xl mb-2 relative z-10 text-sky-500">Sesuatu Untukmuu...</h1>
            <p class="font-small text-lg mb-8 relative z-10 text-pink-500">Klik tombol di bawah sayang untuk kejutan Valentinemu.</p>
            <button onclick="initExperience()" class="btn-gradient px-10 py-3 rounded-full font-bold shadow-lg relative z-10">
                Start ‚ú®
            </button>
        </div>
    </div>

    <!-- PAGE 1: LOADING -->
    <div id="page1" class="page-container hidden-page">
        <div class="glass-card">
            <img src="https://birthdaysx.github.io/Foto3/hirono1.webp" alt="Sticker" class="w- h-32 rounded-lg mb-3 relative z-10">
            <h1 class="font-big text-2xl mb-1 relative z-10 text-sky-600">A Valentine Moment</h1> 
            <p class="font-small text-md mb-8 relative z-10 text-pink-500">Sedang disiapkan untukmu...</p>
            
            <div class="loading-bar-container mb-4">
                <div id="loader" class="loading-bar-fill"></div>
            </div>

            <div class="dot-loader space-x-2 relative z-10">
                <span></span><span></span><span></span>
            </div> 
        </div> 
    </div>

    <!-- PAGE 2: WILL YOU BE MY VALENTINE -->
    <div id="page2" class="page-container hidden-page">
        
        <!-- STIKER DI LUAR KOTAK (ATAS) --> 
        <img src="https://birthdaysx.github.io/Foto3/hirono3.webp" class="w- h-32 -mb-2 drop-shadow-xl" alt="Cute Sticker">
         
        <div class="glass-card">   
            <p class="font-small text-sm mb-2 relative z-10 text-pink-500">Hai, Aku punya yang spesial untukmu</p>
            <h2 class="font-big text-2xl mb-6 relative z-10 text-sky-600">Will You Be My Valentine?</h2> 
            
            <div class="w-full p-4 bg-gradient-to-r from-sky-400 to-pink-400 rounded-2xl shadow-xl text-white relative mb-8 z-10">
                <p class="text-sm italic">"Sebuah pengingat kecil betapa lebih bermakna hidupku dengan kehadiranmu di dalamnya."</p>
            </div>

            <div class="h-6 mb-8 relative z-10">
                <p class="typewriter text-pink-600 font-semibold text-xs">Klik tombol dibawah kalo kamu udah siap‚ú®</p>
            </div>

            <button onclick="nextPage(3)" class="btn-gradient px-10 py-3 rounded-full font-bold shadow-lg relative z-10">
                Open This!üíôü©∑
            </button> 
        </div>
    </div>

    <!-- PAGE 3: VALENTINE NOTE -->   
    <div id="page3" class="page-container hidden-page"> 
        <p class="font-small text-xl mb-1 text-pink-500">Karena hari ini adalah hari yang spesial</p>
        <h2 class="font-big text-3xl mb-6 text-sky-600">A Valentine Noteüíô</h2> 
        
        <div class="w-full max-w-xs p-8 bg-white/80 rounded-3xl border-4 border-pink-200 relative shadow-xl">
            <img src="https://birthdaysx.github.io/Foto3/hirono4.webp" class="absolute -top-5 -right-5 w-16 h-16" alt="stiker">
             
            <div id="envelope-wrapper" class="flex flex-col items-center py-6">
                <div class="envelope-emoji cursor-pointer hover:scale-110 transition-transform duration-300" onclick="openEnvelope()">üì©</div>
                <p class="text-sky-500 font-bold text-lg mb-3">Click the envelope!</p>
                <div class="bg-pink-50 border-2 border-pink-300 px-6 py-2 rounded-full text-pink-500 font-bold text-sm shadow-sm">
                    Special Message ü©∑
                </div>
            </div>

            <div id="letter-opened" class="hidden flex flex-col items-center">
                <div class="bg-sky-50/50 p-4 rounded-xl text-left shadow-inner border border-sky-100 w-full mb-4">
                    <p id="type-p3" class="font-handwriting text-lg text-sky-800 leading-relaxed"></p>
                    <p class="text-right mt-4 font-bold text-pink-500 text-xs italic">~ Amu</p>
                </div>
                <div class="absolute -bottom-4 -left-4 w-12 h-12">üíô</div>
                <div class="flex flex-col space-y-2 w-full">
                    <button id="btn-p3" onclick="nextPage(4)" class="hidden btn-gradient px-6 py-2 rounded-full font-bold text-sm shadow">Continue üé∂</button>
                </div>
            </div>
        </div>  
        <button onclick="nextPage(2)" class="btn-back">Back</button>
    </div>

    <!-- PAGE 4: SONGS -->
    <div id="page4" class="page-container hidden-page">
        <h2 class="font-big text-2xl mb-6 text-sky-600">Beberapa lagu yang mengingatkanku tentang kita</h2>
        <p class="font-small text-lg italic mb-10 text-pink-500">Bisa diplay loh, coba pencet</p>
        <div id="cassette-list" class="w-full max-w-xs mb-8 h-[55vh] overflow-y-auto px-4 pt-4">
            
            <div class="cassette-container" onclick="playSong('https://birthdaysx.github.io/Musik/anugerah-terindah-so7.mp3', this)">
                <div class="cassette">
                    <div class="screw top-l"></div><div class="screw top-r"></div><div class="screw bot-l"></div><div class="screw bot-r"></div>
                    <div class="cassette-label">
                        <p class="font-handwriting font-bold text-sky-800 text-lg leading-tight">Anugerah Terindah</p>
                        <p class="font-handwriting text-pink-500 text-sm">Sheila On 7</p>
                        <div class="cassette-window"> 
                            <div class="sprocket"></div>
                            <div class="sprocket"></div> 
                        </div> 
                    </div>
                    <div class="cassette-bottom"></div> 
                </div>
            </div>

            <div class="cassette-container" onclick="playSong('https://birthdaysx.github.io/Musik/always.mp3', this)">
                <div class="cassette">
                    <div class="screw top-l"></div><div class="screw top-r"></div><div class="screw bot-l"></div><div class="screw bot-r"></div>
                    <div class="cassette-label">
                        <p class="font-handwriting font-bold text-sky-800 text-lg leading-tight">Always</p>
                        <p class="font-handwriting text-pink-500 text-sm">Daniel Caesar</p>
                        <div class="cassette-window">
                            <div class="sprocket"></div> 
                            <div class="sprocket"></div>
                        </div>
                    </div>
                    <div class="cassette-bottom"></div>
                </div> 
            </div> 
 
            <div class="cassette-container" onclick="playSong('https://birthdaysx.github.io/Musik/hold-me-tight.mp3', this)">
                <div class="cassette">
                    <div class="screw top-l"></div><div class="screw top-r"></div><div class="screw bot-l"></div><div class="screw bot-r"></div>
                    <div class="cassette-label">
                        <p class="font-handwriting font-bold text-sky-800 text-lg leading-tight">Hold Me Tight</p>
                        <p class="font-handwriting text-pink-500 text-sm">Skyline</p> 
                        <div class="cassette-window"> 
                            <div class="sprocket"></div>
                            <div class="sprocket"></div>
                        </div>
                    </div>
                    <div class="cassette-bottom"></div>
                </div>
            </div>

        </div>

        <div class="flex space-x-4">
            <button onclick="nextPage(3)" class="btn-back">Back</button>
            <button onclick="nextPage(5)" class="btn-gradient px-10 py-3 rounded-full font-bold shadow-lg">Continue üì∏</button>
        </div>
    </div>

    <!-- PAGE 5: GALLERY -->
    <div id="page5" class="page-container hidden-page"> 
        <h2 class="font-big text-3xl mb-4 text-sky-600">Kenangan Kita</h2>  
        <div class="photo-grid mb-6">
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto3/e1.jpeg" alt="Memory 1"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(-1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto3/e2.jpeg" alt="Memory 2"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto3/e3.jpeg" alt="Memory 3"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(-1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto3/e4.jpeg" alt="Memory 4"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto3/e5.jpeg" alt="Memory 5"></div>
            <video src="https://birthdaysx.github.io/Foto3/e6.mp4" autoplay loop muted playsinline class="w-full h-auto rounded-lg"></video>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto3/e7.jpeg" alt="Memory 7"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(-1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto3/e8.jpeg" alt="Memory 8"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto3/e9.jpeg" alt="Memory 9"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(-1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto3/e10.jpeg" alt="Memory 10"></div>
        </div>
        <p class="italic text-xs text-pink-500 mb-4 px-10">"Scroll kebawah untuk melihat semua kenangan kita."</p>
        <div class="flex space-x-4"> 
            <button onclick="nextPage(4)" class="btn-back">Back</button>
            <button onclick="nextPage(6)" class="btn-gradient px-10 py-3 rounded-full font-bold shadow-lg">Continue ‚ú®</button> 
        </div> 
    </div>

    <!-- PAGE 6: WHY YOU MATTER -->
    <div id="page6" class="page-container hidden-page">
        <h2 class="font-big text-3xl mb-1 text-sky-600">Kenapa Kamu Spesial</h2>
        <p class="font-small text-lg italic mb-10 text-pink-500">Hal yg tidak aku temukan di wanita lain:</p>

        <div class="w-full max-w-sm space-y-8 mb-10 overflow-y-auto max-h-[50vh] px-6 py-4">
            <div class="reason-card">
                <div class="reason-icon">üíñ</div>
                <p class="font-bold text-sky-700 text-lg mb-1">Ngangenin</p>
                <p class="text-xs text-gray-500 italic"></p>
            </div>
            
            <div class="reason-card">
                <div class="reason-icon">‚ú®</div>
                <p class="font-bold text-sky-700 text-lg mb-1">Ingat Detail Kecil</p>
                <p class="text-xs text-gray-500 italic"></p>
            </div>
            
            <div class="reason-card">
                <div class="reason-icon">ü§ó</div>
                <p class="font-bold text-sky-700 text-lg mb-1">Cemburuan</p>
                <p class="text-xs text-gray-500 italic"></p>
            </div>
            
            <div class="reason-card">  
                <div class="reason-icon">üòÜ</div>
                <p class="font-bold text-sky-700 text-lg mb-1">Gemesin</p>
                <p class="text-xs text-gray-500 italic"></p>
            </div>
            
            <div class="reason-card"> 
                <div class="reason-icon">ü´∂üèª</div>
                <p class="font-bold text-sky-700 text-lg mb-1">‚Å†Peruttü§èüèª</p>
                <p class="text-xs text-gray-500 italic"></p>
            </div>
            
            <div class="reason-card">
                <div class="reason-icon">ü´Ç</div>
                <p class="font-bold text-sky-700 text-lg mb-1">Pelukable</p>
                <p class="text-xs text-gray-500 italic"></p>
            </div>
        </div>
  
        <div class="flex space-x-4">
            <button onclick="nextPage(5)" class="btn-back">Back</button>
            <button onclick="nextPage(7)" class="btn-gradient px-10 py-3 rounded-full font-bold shadow-lg">Continue üíå</button>
        </div>
    </div>

    <!-- PAGE 7: FINAL PAGE -->
    <div id="page7" class="page-container hidden-page">
        <h2 class="font-big text-2xl mb-6 text-sky-600">Happy Valentine's Day</h2>
         
        <!-- STIKER DI LUAR KOTAK (ATAS) -->
        <img src="https://birthdaysx.github.io/Foto3/hirono5.webp" class="w-32 h-32 mb- drop-shadow-xl " alt="Final Sticker">

        <!-- Box diperbesar (max-w-sm) dan tinggi text area ditambah -->
        <div id="final-box" class="w-full max-w-sm p-6 bg-white/90 rounded-2xl border-4 border-pink-200 shadow-xl relative">
            <h3 class="font-bold text-sky-700 text-sm mb-3">Final Love Letterüíå</h3>
            <div class="bg-sky-50/50 p-4 rounded-xl border border-sky-100 text-left mb-6 h-56 overflow-y-auto">
                <p id="type-p7" class="text-sm text-gray-700 italic leading-relaxed"></p>
            </div>
 
            <div class="flex justify-between items-center">
                <button onclick="nextPage(6)" class="text-sky-400 font-bold text-xs hover:underline">back</button>
                <button onclick="sealIt()" class="btn-gradient px-6 py-2 rounded-full font-bold text-xs shadow-md">Seal Itüíå</button>
            </div>
        </div>

        <div id="seal-loading" class="hidden flex flex-col items-center mt-8">
            <div class="text-4xl animate-bounce">üíå</div>
            <p class="font-big text-xl text-sky-600">Sealing this with love</p>
        </div>

        <div id="final-sent" class="hidden w-full max-w-xs p-8 bg-sky-100 rounded-3xl border-4 border-white shadow-2xl flex flex-col items-center">
            <div class="text-5xl mb-4">üíô</div>
            <h2 class="font-big text-3xl text-sky-700 mb-1">Sent with Love</h2>
            <p class="font-small text-pink-400 text-sm mb-6">Only For You</p>
            <div class="flex space-x-1 text-xl mb-6">üíôüíôüíôüíôüíôüíôüíô</div>
            <div class="text-center text-sky-800 space-y-1 mb-8">
                <p class="font-bold text-md">Amu</p>
                <p id="date-display" class="text-[10px] opacity-70"></p>
            </div>
            <button onclick="location.reload()" class="bg-white text-sky-500 border-2 border-sky-500 px-8 py-2 rounded-full font-bold text-sm">see again‚ú®</button>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('sakura');
        const ctx = canvas.getContext('2d');
        let petals = [];

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        class Petal {
            constructor() {
                this.reset();
            }
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height - canvas.height;
                this.size = Math.random() * 5 + 5;
                this.speed = Math.random() * 1 + 0.5;
                this.angle = Math.random() * Math.PI * 2;
                this.spin = Math.random() * 0.05 - 0.025;
                this.horizontalSpeed = Math.random() * 1 - 0.5;
                
                // Campuran Warna Sky Blue dan Pink
                const isPink = Math.random() > 0.5;
                if (isPink) {
                     this.color = `rgba(255, ${150 + Math.random() * 50}, ${180 + Math.random() * 50}, ${0.6 + Math.random() * 0.4})`; // Pinkish
                } else {
                     this.color = `rgba(${135 + Math.random() * 50}, ${206 + Math.random() * 30}, 250, ${0.6 + Math.random() * 0.4})`; // Blueish
                }
            }
            update() {
                this.y += this.speed;
                this.x += Math.sin(this.angle) * 0.5 + this.horizontalSpeed;
                this.angle += this.spin;
                if (this.y > canvas.height + 20) {
                    this.reset();
                }
            }
            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.angle);
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.ellipse(0, 0, this.size, this.size * 0.6, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.strokeStyle = "rgba(255, 255, 255, 0.2)";
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(-this.size, 0);
                ctx.lineTo(this.size, 0);
                ctx.stroke();
                ctx.restore();
            }
        }

        for (let i = 0; i < 60; i++) petals.push(new Petal());

        function animateSakura() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            petals.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animateSakura);
        }
        animateSakura();

        const audio = document.getElementById('bg-music'); 
        const defaultSong = 'https://birthdaysx.github.io/Musik/hold-me-tight.mp3';
 
        function initExperience() {
            document.getElementById('page0').classList.add('hidden-page');
            const p1 = document.getElementById('page1'); p1.classList.remove('hidden-page'); p1.classList.add('fade-in-page');
            
            audio.src = defaultSong;
            audio.play().catch(err => console.log("Audio play failed"));

            const loader = document.getElementById('loader');
            let w = 0;
            const t = setInterval(() => {
                if (w >= 100) {
                    clearInterval(t);
                    setTimeout(() => nextPage(2), 500);
                } else {
                    w += 1;
                    loader.style.width = w + '%';
                }
            }, 30);
        }

        function playSong(url, element) {
            document.querySelectorAll('.cassette').forEach(c => c.classList.remove('playing'));
            element.querySelector('.cassette').classList.add('playing');
            audio.src = url;
            audio.play();
        }

        function nextPage(n) {
            document.querySelectorAll('.page-container').forEach(p => {
                p.classList.add('hidden-page');
                p.classList.remove('fade-in-page'); 
            });

            const targetPage = document.getElementById('page' + n); 
            targetPage.classList.remove('hidden-page');
            
            void targetPage.offsetWidth; 
            targetPage.classList.add('fade-in-page');

            if (n === 7) {
                startTypewriterP7();
            }
        }

        function openEnvelope() {
            document.getElementById('envelope-wrapper').classList.add('hidden');
            document.getElementById('letter-opened').classList.remove('hidden');
            
            const txt = "selamat valentine ya sayanggü´∂üèªü´∂üèª, terimakasih ya karena udah jadi orang spesial di hari spesial ini sayang, terimakasi udah ngetreat aku, sayangin aku, dengerin keluh kesah aku, dan ngertiin aku, i lovee uu so muchh sayanggü´∂üèªü´∂üèªü©∑üíô";
            const target = document.getElementById('type-p3');
            target.innerHTML = "";  
            let i = 0;
             
            function type() {
                if (i < txt.length) {
                    if (txt.charAt(i) === '<') {
                        let tagEnd = txt.indexOf('>', i);
                        if (tagEnd !== -1) {
                            target.innerHTML += txt.substring(i, tagEnd + 1);
                            i = tagEnd + 1; 
                        }
                    } else {
                        target.innerHTML += txt.charAt(i);
                        i++;
                    }
                    setTimeout(type, 50);
                } else {
                    document.getElementById('btn-p3').classList.remove('hidden');
                }
            }
            setTimeout(type, 500);
        }

        function startTypewriterP7() {
            const txt = "Makasi yaa sayang akuu, maaf ya valentine ini kita harus ldr, maaf juga ya dengan semua drama kita akhir‚Äù ini, aku cuma pengen kamu tau kalo aku beneran sayang sama kamu, nyaman sama kamu, pengen sama kamu cuma kamu, makasi ya udah peduliin aku sayang dan ngetreat aku sebaik ini karna aku bener bener ngerasa disayang banget ama kamu, makasi yaa udah jadi penyemangat aku di setiap aku cape, masi ga nyangka kalo kita bisa jadian kaya sekarang ini, bener bener beruntung tahun ini valentine tahun ini bisa punya kamu, maaf yaa kalo aku ada banyak salahnya sayang, kita tetep sama sama yaa dari muda sampai tua nantii kaya janji kita hehehe, semoga kita semakin hari makin saling kecintaan, ga pernah bosan, dan lengkapin satu sama lain yaa. terimakasii banyak sayang. i lovee uu alwayss ya sayanggü´∂üèªü´∂üèªüíóüíó";
            const target = document.getElementById('type-p7');
            target.innerHTML = ""; 
            let i = 0;
            
            function type() {
                if (i < txt.length) {
                    if (txt.charAt(i) === '<') {
                        let tagEnd = txt.indexOf('>', i);
                        if (tagEnd !== -1) {
                            target.innerHTML += txt.substring(i, tagEnd + 1);
                            i = tagEnd + 1;
                        }
                    } else {
                        target.innerHTML += txt.charAt(i);
                        i++;
                    }
                    target.parentElement.scrollTop = target.parentElement.scrollHeight;
                    setTimeout(type, 20); // Sedikit lebih cepat
                }
            }
            setTimeout(type, 800);
        }

        function sealIt() {
            document.getElementById('final-box').classList.add('hidden');
            document.getElementById('seal-loading').classList.remove('hidden');
             
            setTimeout(() => {
                document.getElementById('seal-loading').classList.add('hidden');
                document.getElementById('final-sent').classList.remove('hidden');
                
                const d = new Date();
                const opt = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                document.getElementById('date-display').innerText = d.toLocaleDateString('en-US', opt);
            }, 3000);
        }
    </script>
</body>
</html>